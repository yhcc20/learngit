# 会议助手功能使用指南

## 功能概述

会议助手已升级为增强版，专门针对总行层级的各项汇报会议场景，提供以下核心功能：

### ✨ 核心功能

1. **会议录音转文本** ✅
   - 支持多种音频格式（MP3, WAV, M4A, MP4等）
   - 基于OpenAI Whisper的高精度转录
   - 实时进度反馈

2. **发言人识别与观点总结** ✅
   - 自动识别不同说话人
   - AI智能提炼每位参会人的核心观点
   - 支持手动编辑说话人标签和观点

3. **多模板会议纪要生成** ⭐ NEW
   - **标准会议模板**：适用于一般性会议
   - **总行汇报会模板**：专为总行层级汇报会议设计
   - **周例会模板**：适用于定期周例会
   - **决策会议模板**：突出决策过程和执行计划

4. **时间戳与章节化管理** ⭐ NEW
   - 自动将会议划分为逻辑章节
   - 每个章节配有时间戳和摘要
   - 时间轴展示，便于快速定位

5. **关键决策智能提取** ⭐ NEW
   - 自动识别会议中的关键决策事项
   - 决策类型分类（战略决策、运营决策、审批事项等）
   - 决策优先级标注（高/中/低）
   - 参与决策人员记录

6. **待办事项智能识别** ⭐ NEW
   - 从会议讨论中自动提取待办任务
   - 任务负责人识别
   - 优先级和状态管理
   - 支持任务完成状态更新

7. **智能补课功能** ⭐ NEW
   - 为缺席或暂时离场者提供智能摘要
   - 按章节快速回顾错过的内容
   - 生成针对性的补课材料

8. **实时自动摘要** ⭐ NEW
   - 会议整体概述自动生成
   - 核心议题动态提炼
   - 关键成果突出展示

---

## 使用流程

### 1. 上传会议音频

1. 点击"上传会议音频"按钮
2. 填写会议标题
3. 选择会议类型：
   - 标准会议
   - 总行汇报会（推荐用于总行层级汇报）
   - 周例会
   - 决策会议
4. 选择音频文件
5. 确认上传

### 2. 自动分析

系统将自动执行以下步骤：
1. 音频转文字（2-5分钟，取决于音频长度）
2. 说话人识别和分离
3. 章节化分析
4. 关键决策提取
5. 待办事项识别
6. 观点总结生成
7. 会议摘要生成

### 3. 查看会议详情

分析完成后，点击"查看"可以看到：

#### 📊 章节时间轴
- 每个章节的标题、时间范围和摘要
- 时间轴形式展示，直观清晰

#### 👥 参会人员发言
- 每位说话人的核心观点
- 发言片段数统计
- 支持手动编辑标签和观点

#### ⚠️ 关键决策
- 决策内容详细描述
- 决策类型和优先级
- 参与决策人员
- 决策时间点

#### ✅ 待办事项
- 任务内容
- 负责人
- 优先级
- 完成状态（可勾选更新）
- 任务提出时间点

#### 📖 完整转录
- 会议的完整文字记录
- 便于搜索和引用

### 4. 生成会议纪要

点击"纪要"按钮，系统将根据选择的模板类型生成格式化的会议纪要：

- **总行汇报会模板**包含：
  - 会议基本信息
  - 会议整体概述
  - 各单位汇报内容
  - 会议议程时间轴
  - 重大决策事项
  - 后续行动计划

- 支持下载为Markdown格式
- 可直接复制粘贴使用

### 5. 智能补课

点击"补课"按钮，为缺席者生成智能摘要：
- 显示错过的章节数
- 每个章节的简要说明
- 快速了解会议核心内容

---

## 技术特点

### 后端技术栈
- **框架**：FastAPI
- **AI引擎**：CrewAI（多智能体协作框架）
- **语音转录**：OpenAI Whisper API
- **说话人识别**：pyannote.audio
- **数据库**：PostgreSQL + SQLAlchemy
- **LLM**：GPT-4 Turbo

### 前端技术栈
- **框架**：React 18
- **UI组件**：Ant Design 5
- **路由**：React Router 6
- **HTTP客户端**：Axios
- **Markdown渲染**：react-markdown

### AI智能体设计

系统采用5个专门的AI智能体协同工作：

1. **会议结构分析师**
   - 分析会议内容并划分章节
   - 识别议程阶段转换
   - 生成章节标题和摘要

2. **决策识别专家**
   - 提取关键决策事项
   - 分类决策类型
   - 评估决策优先级

3. **任务提取专家**
   - 识别待办任务
   - 提取负责人和截止时间
   - 标注任务优先级

4. **说话人观点分析师**
   - 分析每位说话人的发言
   - 提炼核心观点
   - 突出关注重点

5. **会议总结专家**
   - 生成会议整体摘要
   - 提炼核心议题
   - 总结会议成果

---

## 数据模型

### MeetingMinute（会议纪要）
- 会议标题、状态
- 音频文件路径
- 完整转录文本
- 会议摘要
- 模板类型

### MeetingChapter（会议章节）
- 章节标题
- 开始/结束时间（秒）
- 章节摘要
- 顺序索引

### KeyDecision（关键决策）
- 决策内容
- 决策类型
- 参与人员列表
- 优先级
- 时间戳

### TodoItem（待办事项）
- 任务内容
- 负责人
- 截止时间
- 优先级
- 状态（pending/in_progress/completed/cancelled）
- 时间戳

### Speaker（说话人）
- 说话人名称/标签
- 观点总结
- 发言片段列表

---

## API端点

### 会议管理
- `POST /api/meetings/upload` - 上传音频（支持template_type参数）
- `POST /api/meetings/{id}/analyze` - 分析会议
- `GET /api/meetings/` - 获取会议列表
- `GET /api/meetings/{id}` - 获取会议详情
- `PUT /api/meetings/{id}` - 更新会议信息
- `DELETE /api/meetings/{id}` - 删除会议

### 会议纪要和摘要
- `GET /api/meetings/{id}/minutes` - 生成格式化会议纪要
- `GET /api/meetings/{id}/catchup` - 智能补课摘要

### 章节、决策和待办事项
- `GET /api/meetings/{id}/chapters` - 获取章节列表
- `GET /api/meetings/{id}/decisions` - 获取决策列表
- `GET /api/meetings/{id}/todos` - 获取待办事项
- `PUT /api/meetings/{id}/todos/{todo_id}` - 更新待办事项

### 说话人管理
- `PUT /api/meetings/{id}/speakers/{speaker_id}` - 更新说话人信息

---

## 启动说明

### 后端启动
```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
cd app
python main.py
```

后端将运行在 http://localhost:8000

### 前端启动
```bash
cd frontend
npm install
npm run dev
```

前端将运行在 http://localhost:3000

### 环境变量配置
在 `backend/.env` 文件中配置：
```env
OPENAI_API_KEY=your_api_key_here
HF_TOKEN=your_huggingface_token_here
DATABASE_URL=postgresql://user:password@localhost:5432/dbname
```

---

## 使用场景示例

### 场景1：总行季度汇报会
1. 上传会议录音，选择"总行汇报会"模板
2. 系统自动识别各部门负责人的汇报
3. 提取汇报中的重点工作和存在问题
4. 生成规范的总行汇报会议纪要
5. 识别后续需要跟进的工作任务

### 场景2：周例会
1. 上传周例会录音，选择"周例会"模板
2. 自动总结本周各部门工作进展
3. 识别问题和风险
4. 提取下周工作计划
5. 生成周报格式的会议纪要

### 场景3：重要决策会议
1. 上传会议录音，选择"决策会议"模板
2. 详细记录讨论过程
3. 突出显示各方观点
4. 明确标注最终决策
5. 生成执行计划和责任分工

### 场景4：缺席人员补课
1. 会议结束后，缺席人员查看会议详情
2. 使用"智能补课"功能
3. 快速了解错过的章节内容
4. 查看关键决策和待办事项
5. 5分钟掌握2小时会议核心内容

---

## 最佳实践

### 录音质量建议
- 使用专业录音设备或手机高质量录音
- 确保环境安静，减少噪音干扰
- 建议说话人靠近麦克风
- 音频时长建议：30分钟 - 3小时

### 说话人识别优化
- 会议开始时建议每人先自我介绍
- 分析完成后及时编辑说话人标签
- 将"SPEAKER_00"改为实际姓名或职位

### 会议纪要优化
- 选择合适的模板类型
- 检查并完善AI提取的决策和待办事项
- 必要时补充会议背景信息

---

## 注意事项

1. **音频文件大小**：建议不超过100MB
2. **处理时间**：取决于音频长度，一般为音频时长的1-2倍
3. **API配额**：注意OpenAI API的使用配额
4. **数据安全**：音频文件和转录内容存储在本地服务器
5. **浏览器兼容**：推荐使用Chrome、Edge或Firefox最新版本

---

## 常见问题

**Q: 分析时间太长怎么办？**
A: 可以在后台处理，无需等待。系统支持后台任务，完成后刷新页面即可查看结果。

**Q: 说话人识别不准确？**
A: 这是正常现象，分析完成后可以手动编辑说话人标签，系统会记住您的修改。

**Q: 如何导出会议纪要？**
A: 点击"纪要"按钮后，可以直接下载为Markdown格式，或复制粘贴到Word等工具。

**Q: 待办事项能同步到其他系统吗？**
A: 当前版本暂不支持，可以通过API集成到其他项目管理系统。

**Q: 支持实时会议记录吗？**
A: 当前版本需要上传已录制的音频文件，实时记录功能将在后续版本推出。

---

## 技术支持

如有问题或建议，请联系技术支持团队或提交Issue到项目仓库。

**项目地址**: E:\mutiagent

**文档版本**: v2.0 - 增强版会议助手
**更新日期**: 2025-11-17
